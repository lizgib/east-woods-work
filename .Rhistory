dah = rbind(dah, cbind(dat[i, 'plot'],dat[i, 'accepted_name']))
dat.mat[x, y] <- 1
}
dah
View(dat)
dat <- all07
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(vects$plots, vects$accname))
upto  = dim(dat)[1] - 1
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
dat.mat[x, y] <- 1
}
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(paste(x,y))
dat.mat[x, y] <- 1
}
dat <- all07
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), sort(vects$accname)))
upto  = dim(dat)[1] - 1
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(paste(x,y))
dat.mat[x, y] <- 1
}
View(dat.mat)
write.csv(dat.mat, 'dat.mat2.csv')
dat.all <- read.csv('data/dat.all.csv')
#---------------------------------------------------------------------------------------------------
# FUNCTION CALL
dat.07 <- dat.all[which(dat.all$year == '2007'),]
dat <- dat.07
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), sort(vects$accname)))
upto  = dim(dat)[1] - 1
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(paste(x,y))
dat.mat[x, y] <- 1
}
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
#dat.mat[x, y] <- 1
}
table(rownames(dat.mat))
table(colnames(dat.mat))
dat <- dat.07
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(dat$accepted_name))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
write.csv(dat.mat, 'dat.mat3.csv')
dat$accepted_name <- trimws(dat$accepted_name)
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(dat$accepted_name))
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
write.csv(dat.mat, 'dat.mat4.csv')
upto  = dim(dat)[1] - 1
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
#dat.mat[x, y] <- 1
}
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
dat.mat[x, y] <- 1
}
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(paste(x, y))
dat.mat[x, y] <- 1
}
rowsum(dat.mat)
rowSums(dat.mat)
table(dat.07$plot)
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
dat.mat[x, y] <- 1
}
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
dat.mat[x, y] <- 1
}
dim(dat.mat)
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(i)
dat.mat[x, y] <- 1
}
dim(dat.mat)
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(i)
dat.mat[x] <- 1
}
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(i)
dat.mat[y] <- 1
}
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(i)
dat.mat[y] <- 1
}
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(i)
dat.mat[y] <- 1
}
rowSums(dat.mat)
dat <- dat.07
dat$accepted_name <- trimws(dat$accepted_name)
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
upto  = dim(dat)[1] - 1
for(i in 1:upto){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(i)
dat.mat[y] <- 1
}
dat <- dat.07
dat$accepted_name <- trimws(dat$accepted_name)
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
upto  = dim(dat)[1] - 1
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(i)
dat.mat[y] <- 1
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(i)
dat.mat[y] <- 1
}
}
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
upto  = dim(dat)[1] - 1
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(i)
dat.mat[x] <- 1
}
rowSums(dat.mat)
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
#x = dat[i, 'plot']
y = dat[i, 'accepted_name']
#print(x)
print(y)
print(i)
#dat.mat[x] <- 1
}
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
#x = dat[i, 'plot']
y = dat[i, 'accepted_name']
#print(x)
print(y)
print(i)
dat.mat[y] <- 1
}
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
upto  = dim(dat)[1] - 1
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
#x = dat[i, 'plot']
y = dat[i, 'accepted_name']
#print(x)
print(y)
print(i)
dat.mat[,y] <- 1
}
colSums(dat.mat)
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
dat.mat[x,y] <- 1
}
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
View(dat.mat)
dim(dat.mat)
dat.mat['A116', 'Acer']
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
dat.mat$y[x] <- 1
}
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(dat.mat[x, which(colnames(dat.mat) == y)])
}
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(dat.mat[x, which(colnames(dat.mat) == y)])
}
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
}
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)] <- 1
}
rowSums(dat.mat)
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
#  print(x)
#  print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
dat.mat[row.names(dat.mat) == x, colnames(dat.mat) == y] <- 1
}
rowSums(dat.mat)
View(dat)
dat <- dat.07
dat$accepted_name <- trimws(dat$accepted_name)
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
upto  = dim(dat)[1] - 1
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
#  print(x)
#  print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
#  dat.mat[row.names(dat.mat) == x, colnames(dat.mat) == y] <- 1
dat.mat[dat[i, 'plot'],dat[i, 'accepted_name']] <- 1
}
dat <- dat.07
dat$accepted_name <- trimws(dat$accepted_name)
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
upto  = dim(dat)[1] - 1
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
#  dat.mat[row.names(dat.mat) == x, colnames(dat.mat) == y] <- 1
dat.mat[dat[i, 'plot'], dat[i, 'accepted_name']] <- 1
}
names(dat)
source('~/Documents/GitHub/east_woods_work/old/06.community_data_matrices_pres_abs.R')
#---------------------------------------------------------------------------------------------------
# FUNCTION CALL
dat.07 <- dat.all[which(dat.all$year == '2007'),]
dat <- dat.07
dat$accepted_name <- trimws(dat$accepted_name)
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
length(vects$accname)
length(vects$sp)
length(vects$plots)
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
length(vects$accname)
for(i in 1:dim(dat)[1]){
if(!dat[i, 'species'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'species']
print(x)
print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
#  dat.mat[row.names(dat.mat) == x, colnames(dat.mat) == y] <- 1
dat.mat[dat[i, 'plot'], dat[i, 'species']] <- 1
}
dat.mat <- matrix(0, length(vects$plots), length(vects$sp),
dimnames = list(sort(vects$plots), vects$sp))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'species'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'species']
print(x)
print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
#  dat.mat[row.names(dat.mat) == x, colnames(dat.mat) == y] <- 1
dat.mat[dat[i, 'plot'], dat[i, 'species']] <- 1
}
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
#  dat.mat[row.names(dat.mat) == x, colnames(dat.mat) == y] <- 1
dat.mat[x, dat[i, 'accepted_name']] <- 1
}
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
upto  = dim(dat)[1] - 1
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
#  dat.mat[row.names(dat.mat) == x, colnames(dat.mat) == y] <- 1
dat.mat[dat[i, 'plot'], y] <- 1
}
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
#  dat.mat[row.names(dat.mat) == x, colnames(dat.mat) == y] <- 1
dat.mat[dat[i, 'plot'], dat[i, 'accepted_name']] <- 1
}
#---------------------------------------------------------------------------------------------------
# FUNCTION CALL
dat.18 <- dat.all[which(dat.all$year == '2018'),]
dat <- dat.18
dat$accepted_name <- trimws(dat$accepted_name)
vects <- list(plots = unique(sort(dat$plot)),
sp = unique(sort(dat$species)),
accname = unique(sort(dat$accepted_name)))
vects$accname <- vects$accname[which(!vects$accname %in% c('', ' ', '0'))]
dat.mat <- matrix(0, length(vects$plots), length(vects$accname),
dimnames = list(sort(vects$plots), vects$accname))
for(i in 1:dim(dat)[1]){
if(!dat[i, 'accepted_name'] %in% dimnames(dat.mat)[[2]]) next
if(!dat[i, 'plot'] %in% dimnames(dat.mat)[[1]]) next
x = dat[i, 'plot']
y = dat[i, 'accepted_name']
print(x)
print(y)
#  print(dat.mat[which(row.names(dat.mat) == x) && which(colnames(dat.mat) == y)])
#  dat.mat[row.names(dat.mat) == x, colnames(dat.mat) == y] <- 1
dat.mat[dat[i, 'plot'], dat[i, 'accepted_name']] <- 1
}
source('~/Documents/GitHub/east_woods_work/scripts/07.community_data_matrices.pres_abs.R')
